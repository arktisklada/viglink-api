
<!DOCTYPE html>
<html>
<head>
  <title>VigLink API documentation</title>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <style type="text/css">
    #nav {float:left;width:200px;}
    #nav a {display:block;padding:5px;}
    #content {margin-left:220px;}
    table {border-collapse:collapse;width:100%;}
    table th {background:#666;color:#fff;text-align:left;}
    table th, table td {padding:2px 5px;}
    tr:nth-child(odd) { background: #cfcfcf; }
    .xpath {width:300px;}
  </style>
</head>
<body>
  <div id="api">
    <div id="nav"></div>
    <div id="content"></div>
  </div>
  <script>
    var api = {"title":"VigLink API","description":"Product comparison API.","base_url":"http://catalog.viglink.com/vigcatalog/","guides":[{"title":"Getting started","description":"To get started with the API you will need to be assigned an API \"key\". Once you have this \"key\" you can begin making API calls."},{"title":"How do you get information from the API?","description":"API calls are implemented as a RESTful API. XML response formats are currently provided.  Most calls to the API are made with an HTTP GET (look it up).  To make an API call you will need to have your API \"key\".  See specific API calls to find the list of allowed formats, HTTP methods, required parameters, and optional parameters."},{"title":"API fair usage limit","description":"THE API provides for fair usage based on click-thru rate and transaction conversion rate performance on server requests.  Too many server calls with very few transactions will result in the API not working for you. A server request is each time our servers are called with your unique API \"key\".  The API may return many results on a query, but it is counted as one call.  Pagination, filtering, and clicks are counted as additional server calls.  It is recommended that you blacklist bots from your websites so as to maintain good click-thru and conversion rate."},{"title":"What can you do with the API?","description":"The API was created and designed for marketers who are either developers or have development resources to work with.  Regretfully we can not help you with your custom PHP, ASP, Rails, or teach you how to parse XML.\r\n\r\nWith the API you can create anything from a dynamic super mall to a range of niche coupon sites, and have complete control over the code including HTML and the content calls to populate your websites."},{"title":"Products vs. Offers","description":"To better use the API, you need to understand a core concept around shopping comparison.\r\n\r\nA product is an item made by a manufacturer.  This can be an ipod, a curling iron, a song, a surfboard, etc.  You buy a product from one or more merchants.\r\n\r\nAn offer is a product being sold by a specific merchant.  It has a specific price being offered by the merchant for the product, and a specific URL to link to the merchant page offering the product.  An example of this would be an iPod is a product manufactured by Apple, but offered for sale from Buy.com, Newegg, pcRush.com, etc."},{"title":"Standard response structure","description":"All responses have a standardized structure that adds semantic meaning to the information being returned.\r\n\r\nA response is now comprised of the following container nodes:\r\n\r\n1. <response> - All responses will be contained within a top level response node.  This may contain attributes relating to the success or failure of the query.\r\n\r\n2. <parameters> - The parameters node is used to list all parameters that were used to build up the response information.  This can be used for troubleshooting problems, as well as rebuilding links by knowing how you got to the information you are currently viewing.\r\n\r\n3. <results> - This node contains the primary information found using the parameters that were passed in to make the query.  The results can contain different kinds of information such as products, deals, merchants, etc. The type of information returned in the results is based on the resource being requested in the URL.  You will find examples of this in the different API documentation specific to that resource.\r\n\r\n4. <resources> - A resource is an entity you wish to get information about.  In the context of the API we use this node to provide additional information about items contained in the results node.  We do this to minimize the amount of information being duplicated in a response, while still providing all the information you need to build something on your end.  An example of this is a merchant resource node being returned for a products call.  If you do a product search looking for 'ipods' instead of re-listing all merchant information on every single product node, we provide a separate merchant node in the resources, and each product node provides a reference id to get the merchant for information.\r\n\r\n5. <filters> - Filters show you options available to you for further refining the current search.  These filters may be ranges for prices or percent offs, or maybe a reference to resources you could filter on."},{"title":"Parameter types","description":"There are distinct types of parameters you can use in the API.  The parameter type indicates a certain type of behavior for that parameter.  You do not need to pass the parameter type, it is only used to indicate to you how a parameter can be used.","examples":[{"title":"item","description":"Accepts individual values.  Multiple delimited values are not allowed."},{"title":"range","description":"Accepts a single value for matching exactly, or min/max values delimited with a dash '-' used for searching across a range of values.  For example price=50-100, or percent_off=25."},{"title":"selection","description":"Accepts a single or multiple values.  Multiple values are delimited with a comma ','.  For example product=1 OR product=1,2,3"}]},{"title":"Parameter kinds","description":"Parameter kinds describe how a parameter is going to be used within the search itself.  Some are used to authenticate your account, others used to sort the results.  You do not need to pass the parameter kind, it is only used to indicate how a parameter will be used.","examples":[{"title":"account","description":"This is a parameter tying the results to your specific account"},{"title":"control","description":"Controls fundamental types of additional resources being returned in a response."},{"title":"filter","description":"A parameter used to constrain the results that will be searched within."},{"title":"pagination","description":"Parameters specifically altering number of results returned.  Example: page=1&results_per_page=100"},{"title":"query","description":"A parameter used for any search comparison looking at textual information about products, categories, merchants, etc."},{"title":"session","description":"Stores data about the previous API call in order to provide consistent browsing mechanisms."},{"title":"sort","description":"Determines sort ordering for specific results returned."},{"title":"value","description":"This is a value being passed in to update a record within an account."},{"title":"view","description":"Alters attributes or nodes returned in a response."}]},{"title":"Attribute types","description":"Attribute types are used to describe an attribute being returned for a specific result.  It is an indication to you what type of data the attribute contains.","examples":[{"title":"count","description":"A count of the number of results."},{"title":"display","description":"A displayable value for a result."},{"title":"image","description":"An image URL."},{"title":"price","description":"A price related to a result."},{"title":"primary_key","description":"This is a unique primary identifier for a result."},{"title":"redirect_url","description":"A URL that will redirect to a final merchant page, after attaching all necessary tracking information into the URL."},{"title":"resource","description":"This identifies an attribute that is an id for an associated resource that is found within the resources section of the response."},{"title":"percentage","description":"A displayable percentage value."},{"title":"direct_url","description":"A direct URL to a merchant page that will not include any tracking information."}]},{"title":"Resources","description":"A resource at it's simplest is an entity you wish to get information about.  In the context of the API we use this concept to return information on many different things.  The following list of resources describe the common types of information you will encounter in API responses.","examples":[{"title":"Attribute","description":"An attribute for a product.  Examples such as color, screen resolution, size, etc."},{"title":"Attribute Group","description":"A group of attributes within a product specification."},{"title":"Brand","description":"The brand or manufacturer for a product.  This is not available to be searched directly, but appears in product results."},{"title":"Category","description":"Categories are used to classify similar products."},{"title":"Country","description":"Country a merchant operates within.  This primarily influences the type of currency prices are provided in.  This only exists as nodes and filters in other calls."},{"title":"Deal","description":"A deal provided through an affiliate network for a specific merchant. Usually expressed as a percent off, dollar off, or some other special discount for a specific period of time."},{"title":"Deal type","description":"A simple classification system for deals.  These are essentially custom categories for deals."},{"title":"Filter","description":"A filter is a resource/attribute or other condition that another resource can be filtered by."},{"title":"Merchant","description":"A merchant or store that provides offers for products."},{"title":"Merchant type","description":"A classification of a merchant, not necessarily it's products or offers."},{"title":"Offer","description":"This represents an instance of a product being sold by a specific merchant."},{"title":"Product","description":"A product is a physical good sold by one or more merchants."},{"title":"Specification","description":"A specification contains attribute groups, and attributes describing the product in more detail.  Usually these correspond to the categories the product belongs to."}]},{"title":"A note about XML node attributes","description":"We try to only bring back the information you need.  If an attribute or node is empty, then it usually is not returned.  Don't always count on an attribute or node on being there.  If an attribute is guaranteed to always be there, we will mark it as 'required'."},{"title":"About sessions","description":"The \"session\" parameter is basically a container for us to manage information about previous states of requests.  This information is used to better populate the different filters and resources available in the current request, allowing for you to build better navigation for any final user of your information.\r\n\r\nFor example, by passing the session parameter value we give to you, a subsequent request would know the price ranges that were available on the previous call, and would be able to inject those values back into the results for you to provide a better browsing experience for your user."}],"calls":[{"title":"Find products","description":"Product calls are used to get all information related to products, and the specific merchant offers for those products. One thing to note is that only offers will have links associated with them, the product itself will not have a URL.","format":"xml","required_parameters":[{"title":"key","description":"Your API account key.","parameter_type":"","parameter_kind":"account","allowed_values":"","default_value":"","required":true}],"optional_parameters":[{"title":"category","description":"Filter products by a specific category ID. This can only be passed in conjunction with a keyword parameter.","parameter_type":"item","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"include_discounts","description":"This will force the response to return the top discounted offer for each product as part of the results.","parameter_type":"","parameter_kind":"control","allowed_values":"","default_value":"","required":false},{"title":"keyword","description":"A keyword or phrase you want to find in the product name or description","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_description","description":"A keyword or phrase you want to find specifically in the product description.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_ean","description":"A term you want to match against a product's EAN.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_isbn","description":"A term you want to match against a product's ISBN","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_mpn","description":"A term you want to match against a product's MPN.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_name","description":"A keyword or phrase you want to find specifically in the product name.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_person","description":"A term you want to match against a product's author or artist.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_upc","description":"A term you want to match against a product's UPC.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_isbn","description":"A term you want to match against a product's ISBN.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"merchant","description":"The merchant ID of the merchant a product's offers should belong to.","parameter_type":"selection","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"merchant_type","description":"The merchant type ID of the merchant a product's offers should belong to.","parameter_type":"selection","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"page","description":"The page number of results to return.","parameter_type":"item","parameter_kind":"pagination","allowed_values":"1-100","default_value":"1","required":false},{"title":"percent_off","description":"The exact percent off you want the offer merchant prices vs. retail prices. This is an example of requesting products with offers with at least a 5% off price to a maximum of 10% off: perent_off=5-10","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"percent_off_max","description":"The maximum percent off you want the offer merchant prices vs. retail prices","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"percent_off_min","description":"The minimum percent off you want the offer merchant prices vs. retail prices","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"price","description":"The exact price you want the offer merchant prices. This is an example of requesting products with offers with at least a $5 price to a maximum of $10 off: price=5-10","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"price_max","description":"\tThe maximum price you want the offer merchant prices.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"price_min","description":"The minimum price you want the offer merchant prices.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"product","description":"\tThe product ID of the exact product you want returned. Could be a comma delimited list of multiple product IDs.","parameter_type":"selection","parameter_kind":"","allowed_values":"","default_value":"","required":false},{"title":"results_per_page","description":"The number of products to return in every response.","parameter_type":"item","parameter_kind":"pagination","allowed_values":"1-100","default_value":"20","required":false},{"title":"session","description":"Zipped info used to build more relevant filter values in the response in order to get back to previous filtered states. You do NOT to generate session value, it is provided in the parameters block. Pass it forward for any additional calls you make.","parameter_type":"","parameter_kind":"session","allowed_values":"","default_value":"","required":false},{"title":"end_on_min","description":"The minimum end on date for a deal.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false}],"response_nodes":[{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the category.  This acts as a primary key that can be used to reference the category.","required":true},{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"leaf","kind":"display","data_type":"boolean","description":"Indicates whether or not the category is a leaf in the category tree and does not have any child categories.","required":false},{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"name","kind":"display","data_type":"string","description":"The display name of the category.","required":true},{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"count","kind":"count","data_type":"integer","description":"A contextual count of how many resources belong to a category that match any query parameters.","required":false},{"response_section":"resources","xpath":"/response/resources/deal_types/deal_type","resource":"Deal type","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for a deal type.  This acts as a primary key that can be used to reference the deal type.","required":true},{"response_section":"resources","xpath":"/response/resources/deal_types/deal_type","resource":"Deal type","attribute":"name","kind":"display","data_type":"string","description":"The display name of the deal type.","required":true},{"response_section":"resources","xpath":"/response/resources/deal_types/deal_type","resource":"Deal type","attribute":"deal_count","kind":"count","data_type":"integer","description":"A count of deals that belong to the deal type.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"category","kind":"resource","data_type":"integer","description":"A category ID for the category the merchant belongs to.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"country","kind":"resource","data_type":"integer","description":"A country ID for the country the merchant belongs to.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"deal_count","kind":"count","data_type":"integer","description":"The number of deals available from the merchant.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the merchant within the API.  This acts as a primary key that can be used to reference the merchant.","required":true},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"logo_url","kind":"image","data_type":"string","description":"The URL for a merchant logo.  Merchant logos default to a size of 88x31.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"merchant_type","kind":"resource","data_type":"integer","description":"A merchant type ID for the merchant type the merchant belongs to.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"name","kind":"display","data_type":"string","description":"The name of the merchant.","required":true},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"product_count","kind":"count","data_type":"integer","description":"The number of products offered by the merchant.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"site_url","kind":"direct_url","data_type":"string","description":"The direct URL to the merchant's website.  This URL does NOT have any tracking information in it.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"url","kind":"redirect_url","data_type":"string","description":"The redirect URL that will pass along tracking information on a click.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"count","kind":"count","data_type":"integer","description":"A contextual count of offers or deals matching any query parameters.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"code","kind":"display","data_type":"string","description":"If a deal happens to be a coupon, this is the coupon code for it.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"deal_type","kind":"resource","data_type":"integer","description":"This is the deal_type ID of the deal type the deal belongs to.  it is possible for this to be a comma delimited list of deal type ids, if the deal belongs to more than one.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"description","kind":"display","data_type":"string","description":"A merchant provided description of the deal.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"end_on","kind":"display","data_type":"date","description":"The date the deal expires on.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the deal in API calls.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"image_url","kind":"image","data_type":"string","description":"The URL to an image for the deal.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"merchant","kind":"resource","data_type":"integer","description":"The merchant ID of the merchant the deal belongs to.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"name","kind":"display","data_type":"string","description":"The name of the deal.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"restrictions","kind":"display","data_type":"string","description":"A description of any related restrictions on the deal that may limit its ability to be redeemed.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"site_wide","kind":"display","data_type":"boolean","description":"Indicates whether or not the deal is applicable across a merchant's entire website, or limited to a specific product or category.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"start_on","kind":"display","data_type":"date","description":"The starting date a deal is valid on.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"url","kind":"redirect_url","data_type":"string","description":"A redirect URL that links to the deal landing page after passing along any tracking information for you.","required":true},{"response_section":"results","xpath":"/response/results/products/product/attributes/attribute","resource":"Attribute","attribute":"name","kind":"display","data_type":"string","description":"The name describing what type of attribute this is for the product.  Examples of this are MPN, UPC, ISBN, etc.","required":true},{"response_section":"results","xpath":"/response/results/products/product/attributes/attribute","resource":"Attribute","attribute":"value","kind":"display","data_type":"string","description":"The actual value of the attribute for the product.","required":true},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"currency_iso","kind":"display","data_type":"string","description":"The currency ISO code for the offer prices.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"currency_symbol","kind":"display","data_type":"string","description":"The HTML entity for the currency symbol of the offer.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"description","kind":"display","data_type":"string","description":"The merchant provided description of the product offer.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"id","kind":"primary_key","data_type":"integer","description":"The is the unique identifier for the merchant offer in API calls.","required":true},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"image_url_large","kind":"image","data_type":"string","description":"The merchant provided large sized image URL.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"image_url_medium","kind":"image","data_type":"string","description":"The merchant provided medium sized image URL.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"image_url_small","kind":"image","data_type":"string","description":"The merchant provided small sized image URL.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"merchant","kind":"resource","data_type":"integer","description":"The merchant ID of the merchant the offer belongs to.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"name","kind":"display","data_type":"string","description":"The merchant provided name of the product offer.","required":true},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"percent_off","kind":"percentage","data_type":"float","description":"The calculated percent off from the merchant provided price, and the merchant provided retail price.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"price_merchant","kind":"price","data_type":"float","description":"The merchant provided price they are selling the product offer for.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"price_retail","kind":"price","data_type":"float","description":"The merchant provided retail price to compare against the price they are offering the product at.","required":false},{"response_section":"results","xpath":"/response/results/products/product/offers/offer","resource":"Offer","attribute":"url","kind":"redirect_url","data_type":"string","description":"A redirect URL that will end at the merchant site after attaching necessary tracking information.","required":true},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"brand","kind":"resource","data_type":"integer","description":"The id of the brand a product belongs to.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"category","kind":"resource","data_type":"integer","description":"The id of the category a product belongs to.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"description","kind":"display","data_type":"string","description":"A description of the product","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"id","kind":"primary_key","data_type":"integer","description":"A unique identifier of the product that can be used in API calls.","required":true},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"image_url_large","kind":"image","data_type":"string","description":"A URL for a large sized image of the product.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"image_url_medium","kind":"image","data_type":"string","description":"A URL for a medium sized image of the product.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"image_url_small","kind":"image","data_type":"string","description":"A URL for a small sized image of the product.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"name","kind":"display","data_type":"string","description":"The name of the product.","required":true},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"offer_count","kind":"count","data_type":"integer","description":"A count of the number of merchant offers available for the product.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"price_max","kind":"price","data_type":"float","description":"The maximum price of all merchant offers for the product.","required":false},{"response_section":"results","xpath":"/response/results/products/product","resource":"Product","attribute":"price_min","kind":"price","data_type":"float","description":"The minimum price of all merchant offers for the product.","required":false}],"request_url":"http://catalog.viglink.com/vigcatalog/products.xml"},{"title":"Find coupons and deals","description":"Find coupons and deals","format":"xml","required_parameters":[{"title":"key","description":"Your API account key.","parameter_type":"","parameter_kind":"account","allowed_values":"","default_value":"","required":true}],"optional_parameters":[{"title":"end_on","description":"The end on date a deal is still valid for. Pass in a single date for an exact match, or pass in a range of dates delimited with a dash '-'.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"end_on_max","description":"The maximum end on date for a deal.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"deal_type","description":"The deal type ID a deal belongs to.","parameter_type":"selection","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"keyword","description":"A term or phrase you want to find in the deal name or description.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_description","description":"A term or phrase you want to find in the deal description.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"keyword_name","description":"A term or phrase you want to find in the deal name.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"merchant","description":"The merchant ID of the merchant a deal belongs to.","parameter_type":"selection","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"merchant_type","description":"The merchant type ID that a deal's merchant belongs to.","parameter_type":"selection","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"page","description":"The page number of the results you want returned.","parameter_type":"item","parameter_kind":"pagination","allowed_values":"1-100","default_value":"1","required":false},{"title":"results_per_page","description":"The number of deals to return in every response.","parameter_type":"item","parameter_kind":"pagination","allowed_values":"1-100","default_value":"20","required":false},{"title":"session","description":"Zipped info used to build more relevant filter values in the response in order to get back to previous filtered states. You do NOT to generate session value, it is provided in the parameters block. Pass it forward for any additional calls you make.","parameter_type":"","parameter_kind":"session","allowed_values":"","default_value":"","required":false},{"title":"site_wide","description":"Indicates whether or not a deal applies site wide on a merchant's site, as opposed to being for a specific product or specific category within the merchant's site.","parameter_type":"item","parameter_kind":"filter","allowed_values":"all,yes,no","default_value":"all","required":false},{"title":"sort_deal","description":"The sort order the deals are returned in","parameter_type":"","parameter_kind":"sort","allowed_values":"relevance, name_asc, name_desc, start_on_asc, start_on_desc, end_on_asc, end_on_desc, merchant_name_asc, merchant_name_desc","default_value":"relevance","required":false},{"title":"start_on","description":"The start on date a deal is valid for. Pass in a single date for an exact match, or pass in a range of dates delimited with a dash '-'.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"start_on_max","description":"The maximum start on date for a deal.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"start_on_min","description":"The minimum start on date for a deal.","parameter_type":"range","parameter_kind":"filter","allowed_values":"","default_value":"","required":false}],"response_nodes":[{"response_section":"resources","xpath":"/response/resources/deal_types/deal_type","resource":"Deal type","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for a deal type.  This acts as a primary key that can be used to reference the deal type.","required":true},{"response_section":"resources","xpath":"/response/resources/deal_types/deal_type","resource":"Deal type","attribute":"name","kind":"display","data_type":"string","description":"The display name of the deal type.","required":true},{"response_section":"resources","xpath":"/response/resources/deal_types/deal_type","resource":"Deal type","attribute":"deal_count","kind":"count","data_type":"integer","description":"A count of deals that belong to the deal type.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"currency","kind":"display","data_type":"string","description":"The encoded currency symbol for a country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for a country.  This acts as a primary key that can be used to reference the country.","required":true},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"iso","kind":"display","data_type":"string","description":"The two character ISO code for the country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"iso3","kind":"display","data_type":"string","description":"The three character ISO3 code for the country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"merchant_count","kind":"count","data_type":"integer","description":"The number of merchants that belong to a country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"name","kind":"display","data_type":"string","description":"The display name of a country.","required":true},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"category","kind":"resource","data_type":"integer","description":"A category ID for the category the merchant belongs to.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"country","kind":"resource","data_type":"integer","description":"A country ID for the country the merchant belongs to.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"deal_count","kind":"count","data_type":"integer","description":"The number of deals available from the merchant.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the merchant within the API.  This acts as a primary key that can be used to reference the merchant.","required":true},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"logo_url","kind":"image","data_type":"string","description":"The URL for a merchant logo.  Merchant logos default to a size of 88x31.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"merchant_type","kind":"resource","data_type":"integer","description":"A merchant type ID for the merchant type the merchant belongs to.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"name","kind":"display","data_type":"string","description":"The name of the merchant.","required":true},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"product_count","kind":"count","data_type":"integer","description":"The number of products offered by the merchant.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"site_url","kind":"direct_url","data_type":"string","description":"The direct URL to the merchant's website.  This URL does NOT have any tracking information in it.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"url","kind":"redirect_url","data_type":"string","description":"The redirect URL that will pass along tracking information on a click.","required":false},{"response_section":"resources","xpath":"/response/resources/merchants/merchant","resource":"Merchant","attribute":"count","kind":"count","data_type":"integer","description":"A contextual count of offers or deals matching any query parameters.","required":false},{"response_section":"resources","xpath":"/response/resources/merchant_types/merchant_type","resource":"Attribute","attribute":"name","kind":"display","data_type":"string","description":"The name describing what type of attribute this is for the product.  Examples of this are MPN, UPC, ISBN, etc.","required":true},{"response_section":"resources","xpath":"/response/resources/merchant_types/merchant_type","resource":"Attribute","attribute":"value","kind":"display","data_type":"string","description":"The actual value of the attribute for the product.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"code","kind":"display","data_type":"string","description":"If a deal happens to be a coupon, this is the coupon code for it.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"deal_type","kind":"resource","data_type":"integer","description":"This is the deal_type ID of the deal type the deal belongs to.  it is possible for this to be a comma delimited list of deal type ids, if the deal belongs to more than one.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"description","kind":"display","data_type":"string","description":"A merchant provided description of the deal.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"end_on","kind":"display","data_type":"date","description":"The date the deal expires on.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the deal in API calls.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"image_url","kind":"image","data_type":"string","description":"The URL to an image for the deal.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"merchant","kind":"resource","data_type":"integer","description":"The merchant ID of the merchant the deal belongs to.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"name","kind":"display","data_type":"string","description":"The name of the deal.","required":true},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"restrictions","kind":"display","data_type":"string","description":"A description of any related restrictions on the deal that may limit its ability to be redeemed.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"site_wide","kind":"display","data_type":"boolean","description":"Indicates whether or not the deal is applicable across a merchant's entire website, or limited to a specific product or category.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"start_on","kind":"display","data_type":"date","description":"The starting date a deal is valid on.","required":false},{"response_section":"results","xpath":"/response/results/deals/deal","resource":"Deal","attribute":"url","kind":"redirect_url","data_type":"string","description":"A redirect URL that links to the deal landing page after passing along any tracking information for you.","required":true}],"request_url":"http://catalog.viglink.com/vigcatalog/deals.xml"},{"title":"Find merchants","description":"A call that enables you to find all merchants available within API calls.","format":"xml","required_parameters":[{"title":"key","description":"Your API account key.","parameter_type":"","parameter_kind":"account","allowed_values":"","default_value":"","required":true}],"optional_parameters":[{"title":"alpha","description":"A single letter that will filter on the first letter in a merchant name. Pass in the '#' symbol for non-alpha characters.","parameter_type":"item","parameter_kind":"filter","allowed_values":"#,a-z","default_value":"","required":false},{"title":"category","description":"A category ID to filter the merchants on.","parameter_type":"item","parameter_kind":"","allowed_values":"","default_value":"","required":false},{"title":"keyword","description":"A keyword or phrase to search merchant names on.","parameter_type":"","parameter_kind":"query","allowed_values":"","default_value":"","required":false},{"title":"merchant","description":"The merchant ID to filter the merchants on.","parameter_type":"selection","parameter_kind":"filter","allowed_values":"","default_value":"","required":false},{"title":"page","description":"The page number of results to return.","parameter_type":"item","parameter_kind":"pagination","allowed_values":"1-100","default_value":"1","required":false},{"title":"results_per_page","description":"The number of merchants to return in every response.","parameter_type":"item","parameter_kind":"pagination","allowed_values":"1-100","default_value":"20","required":false}],"response_nodes":[{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the category.  This acts as a primary key that can be used to reference the category.","required":true},{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"leaf","kind":"display","data_type":"boolean","description":"Indicates whether or not the category is a leaf in the category tree and does not have any child categories.","required":false},{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"name","kind":"display","data_type":"string","description":"The display name of the category.","required":true},{"response_section":"resources","xpath":"/response/resources/categories/matches/category","resource":"Category","attribute":"count","kind":"count","data_type":"integer","description":"A contextual count of how many resources belong to a category that match any query parameters.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"currency","kind":"display","data_type":"string","description":"The encoded currency symbol for a country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for a country.  This acts as a primary key that can be used to reference the country.","required":true},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"iso","kind":"display","data_type":"string","description":"The two character ISO code for the country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"iso3","kind":"display","data_type":"string","description":"The three character ISO3 code for the country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"merchant_count","kind":"count","data_type":"integer","description":"The number of merchants that belong to a country.","required":false},{"response_section":"resources","xpath":"/response/resources/countries/country","resource":"Country","attribute":"name","kind":"display","data_type":"string","description":"The display name of a country.","required":true},{"response_section":"resources","xpath":"/response/resources/merchant_types/merchant_type","resource":"Merchant type","attribute":"id","kind":"primary_key","data_type":"integer","description":"Unique identifier for a merchant type.  This acts as a primary key that can be used to reference the merchant type.","required":true},{"response_section":"resources","xpath":"/response/resources/merchant_types/merchant_type","resource":"Merchant type","attribute":"merchant_count","kind":"count","data_type":"integer","description":"The number of merchants that belong to the merchant type.","required":false},{"response_section":"resources","xpath":"/response/resources/merchant_types/merchant_type","resource":"Merchant type","attribute":"name","kind":"display","data_type":"string","description":"The display name of the merchant type.","required":true},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"category","kind":"resource","data_type":"integer","description":"A category ID for the category the merchant belongs to.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"country","kind":"resource","data_type":"integer","description":"A country ID for the country the merchant belongs to.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"deal_count","kind":"count","data_type":"integer","description":"The number of deals available from the merchant.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for the merchant within the API.  This acts as a primary key that can be used to reference the merchant.","required":true},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"logo_url","kind":"image","data_type":"string","description":"The URL for a merchant logo.  Merchant logos default to a size of 88x31.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"merchant_type","kind":"resource","data_type":"integer","description":"A merchant type ID for the merchant type the merchant belongs to.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"name","kind":"display","data_type":"string","description":"The name of the merchant.","required":true},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"product_count","kind":"count","data_type":"integer","description":"The number of products offered by the merchant.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"site_url","kind":"direct_url","data_type":"string","description":"The direct URL to the merchant's website.  This URL does NOT have any tracking information in it.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"url","kind":"redirect_url","data_type":"string","description":"The redirect URL that will pass along tracking information on a click.","required":false},{"response_section":"results","xpath":"/response/results/merchants/merchant","resource":"Merchant","attribute":"count","kind":"count","data_type":"integer","description":"A contextual count of offers or deals matching any query parameters.","required":false}],"request_url":"http://catalog.viglink.com/vigcatalog/merchants.xml"},{"title":"Find merchant types","description":"Merchant types are used to categorize merchants themselves by the broad type of store they are.","format":"xml","required_parameters":[{"title":"key","description":"Your API account key.","parameter_type":"","parameter_kind":"account","allowed_values":"","default_value":"","required":true}],"optional_parameters":[],"response_nodes":[{"response_section":"results","xpath":"/response/results/merchant_types/merchant_type","resource":"Merchant type","attribute":"id","kind":"primary_key","data_type":"integer","description":"Unique identifier for a merchant type.  This acts as a primary key that can be used to reference the merchant type.","required":true},{"response_section":"results","xpath":"/response/results/merchant_types/merchant_type","resource":"Merchant type","attribute":"merchant_count","kind":"count","data_type":"integer","description":"The number of merchants that belong to the merchant type.","required":false},{"response_section":"results","xpath":"/response/results/merchant_types/merchant_type","resource":"Merchant type","attribute":"name","kind":"display","data_type":"string","description":"The display name of the merchant type.","required":true}],"request_url":"http://catalog.viglink.com/vigcatalog/merchant_types.xml"},{"title":"Find deal types","description":"A deal type is used to categorize a deal. You can use deal_type ids to further filter product/deal queries.","format":"xml","required_parameters":[{"title":"key","description":"Your API account key.","parameter_type":"","parameter_kind":"account","allowed_values":"","default_value":"","required":true}],"optional_parameters":[],"response_nodes":[{"response_section":"results","xpath":"/response/results/deal_types/deal_type","resource":"Deal type","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for a deal type.  This acts as a primary key that can be used to reference the deal type.","required":true},{"response_section":"results","xpath":"/response/results/deal_types/deal_type","resource":"Deal type","attribute":"name","kind":"display","data_type":"string","description":"The display name of the deal type.","required":true},{"response_section":"results","xpath":"/response/results/deal_types/deal_type","resource":"Deal type","attribute":"deal_count","kind":"count","data_type":"integer","description":"A count of deals that belong to the deal type.","required":false}],"request_url":"http://catalog.viglink.com/vigcatalog/deal_types.xml"},{"title":"Find countries","description":"Countries are used to identify where a particular merchant's offers are located.","format":"xml","required_parameters":[{"title":"key","description":"Your API account key.","parameter_type":"","parameter_kind":"account","allowed_values":"","default_value":"","required":true}],"optional_parameters":[],"response_nodes":[{"response_section":"results","xpath":"/response/results/countries/country","resource":"Country","attribute":"currency","kind":"display","data_type":"string","description":"The encoded currency symbol for a country.","required":false},{"response_section":"results","xpath":"/response/results/countries/country","resource":"Country","attribute":"id","kind":"primary_key","data_type":"integer","description":"The unique identifier for a country.  This acts as a primary key that can be used to reference the country.","required":true},{"response_section":"results","xpath":"/response/results/countries/country","resource":"Country","attribute":"iso","kind":"display","data_type":"string","description":"The two character ISO code for the country.","required":false},{"response_section":"results","xpath":"/response/results/countries/country","resource":"Country","attribute":"iso3","kind":"display","data_type":"string","description":"The three character ISO3 code for the country.","required":false},{"response_section":"results","xpath":"/response/results/countries/country","resource":"Country","attribute":"merchant_count","kind":"count","data_type":"integer","description":"The number of merchants that belong to a country.","required":false},{"response_section":"results","xpath":"/response/results/countries/country","resource":"Country","attribute":"name","kind":"display","data_type":"string","description":"The display name of a country.","required":true}],"request_url":"http://catalog.viglink.com/vigcatalog/countries.xml"}]},
        $api = $("#api"),
        $content = $("#content"),
        $nav = $("#nav"),
        paramHeader = "<thead><tr><th>Param name</th><th>Type</th><th>Kind</th><th>Allowed values</th><th>Default value</th><th>Description</th></tr></thead>";

    $content.append( "<h1>" + api.title + "</h1>" );
    $content.append( "<p>" + api.description + "</p>" );
    $content.append( "<h2>Base API URL</h2>" );
    $content.append( "<p>" + api.base_url + "</p>" );

    $content.append("<h2>Guides</h2>");
    $nav.append("<h3>Guides</h3>");
    for(var i=0; i < api.guides.length; i++) {
      var guide = api.guides[i],
          guideId = guide.title.replace( " ", "_" ),
          $guide = $( "<div id=\"#" + guideId + "\"></div>" );

      $nav.append( "<a href=\"#" + guideId + "\">" + guide.title + "</a>" );
      $guide.append( "<a name=\"" + guideId + "\"></a>" );
      $guide.append( "<h3>" + guide.title + "</h3>" );
      $guide.append( "<p>" + guide.description+"</p>" );
      $content.append($guide);
    }

    $content.append("<h2>API calls</h2>");
    $nav.append("<h3>API Calls</h3>");
    for(var i=0; i < api.calls.length; i++) {
      var call = api.calls[i],
          callId = call.title.replace( " ", "_" ),
          $call = $( "<div id=\"" + callId + "\"></div>" ),
          $requiredParamTable = $("<table>"),
          $optionalParamTable = $("<table>"),
          $responseTable = $("<table>");

      $nav.append( "<a href=\"#" + callId + "\">" + call.title + "</a>" );
      $call.append( "<a name=\"" + callId + "\"></a>" );
      $call.append( "<h3>" + call.title + "</h3>" );

      $call.append("<h4>Request URL</h4>");
      $call.append( "<p>" + call.request_url + "</p>" );
      
      $call.append("<h4>Response formats</h4>");
      $call.append("<p>" + call.format + "</p>");

      if (call.required_parameters.length > 0) {
        $call.append("<h4>Required parameters</h4>");
        $requiredParamTable.append(paramHeader);
        var $tbody = $("<tbody></tbody>");
        for(var x = 0; x < call.required_parameters.length; x++) {
          var param = call.required_parameters[x],
              $row = buildParamRow(param);
          $tbody.append($row);
        }
        $requiredParamTable.append($tbody);
        $call.append($requiredParamTable);
      }

      if (call.optional_parameters.length > 0) {
        $call.append("<h4>Optional parameters</h4>");
        $optionalParamTable.append(paramHeader);
        var $tbody = $("<tbody></tbody>");
        for(var x = 0; x < call.optional_parameters.length; x++) {
          var param = call.optional_parameters[x],
              $row = buildParamRow(param);
          $tbody.append($row);
        }
        $optionalParamTable.append($tbody);
        $call.append($optionalParamTable);  
      }

      $call.append("<h4>Response</h4>");
      $responseTable.append("<thead><tr><th>Section</th><th class=\"xpath\">Xpath</th><th>Resource</th><th>Attribute</th><th>Required</th><th>Kind</th><th>Data type</th><th>Description</th></tr></thead>")
      var $tbody = $("<tbody>");
      for(var x = 0; x < call.response_nodes.length; x++) {
        var node = call.response_nodes[x],
            $row = $("<tr></tr>");
        $row.append( "<td>" + node.response_section + "</td>" );
        $row.append( "<td>" + node.xpath + "</td>" );
        $row.append( "<td>" + node.resource + "</td>" );
        $row.append( "<td>" + node.attribute + "</td>" );
        $row.append( "<td>" + node.required + "</td>" );
        $row.append( "<td>" + node.kind + "</td>" );
        $row.append( "<td>" + node.data_type + "</td>" );
        $row.append( "<td>" + node.description + "</td>" );
        $tbody.append($row);
      }
      $responseTable.append($tbody);
      $call.append($responseTable);
      $content.append($call);
    }

    function buildParamRow(param) {
      var $row = $("<tr>");
      $row.append( "<td>" + param.title + "</td>" );
      $row.append( "<td>" + param.parameter_type + "</td>" );
      $row.append( "<td>" + param.parameter_kind + "</td>" );
      $row.append( "<td>" + param.allowed_values + "</td>" );
      $row.append( "<td>" + param.default_value + "</td>" );
      $row.append( "<td>" + param.description + "</td>" );
      return $row;
    }

  </script>
</body>
</html>
